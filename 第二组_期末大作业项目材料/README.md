<h1 align="center">烟花粒子系统</h1>

<p align="center">第二组</p>

[TOC]

### 0 简述

​       本小组实现了一个基于OpenGL的三维烟花粒子系统。程序中，整个世界由地面和城堡组成，并被天空盒包围。视点位于城堡天台，通过按键1~5可以控制烟花发射，每当按下按键，程序初始化一个烟花，随机初始化速度及颜色，并且不同的按键对应不同爆炸类型的烟花，烟花于一个固定点发射（大门上方）。其中未爆炸状态的烟花为一个球（可通过改变顶点更改为其他几何体），烟花引擎控制其运动并爆炸，爆炸位置会激活一个点光源，烟花的光照由Blinn-Phonng定律反映到城堡及地面上。爆炸之后烟花变为许多粒子，引擎继续控制其运动，并且粒子的不透明度逐渐降低直至消失。另外，我们实现了一些优化使烟花看起来更加真实，例如拖尾效果和辉光渲染，具体细节下文会详细介绍。最后在程序交互上，鼠标移动可以调整视线的方向，烟花引擎的速度可由QE按键调节，鼠标滚轮可以放大缩小视口，鼠标左键可以改变光标的捕获状态。

​      下文简述各部分的具体实现细节。

### 1 模型加载

​       使用Assimp Library加载模型。

### 2 烟花引擎

烟花由一个类封装，数据成员包括烟花的属性，和包含的粒子，粒子同样由类封装其属性；烟花引擎由类函数成员组成。按下烟花发射按键之后，程序初始化一个类对象，类构造函数在一定范围内随机初始化烟花的速度、半径以及颜色，并根据按键的不同标记不同的烟花类型。

### 3 烟花渲染

### 4 光照&辉光

